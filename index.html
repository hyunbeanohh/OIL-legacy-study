<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link rel="stylesheet" href="style.css">
    <script src="./editor.js"></script>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSEditor</title>
</head>

<body>

    <div id="root"></div>
    
    <div id="editorAPI" style="width: 60%;">
        <p style="margin-top:30px; border-top:1px dashed black" ></p>
        
        <div style="display: flex; justify-content: center;">
            <div id="getValue" type ="button" value = "getValue">getValue()</div>
            <div id="setValue" type ="button" value = "setValue">setValue()</div>
            <div id="getBodyValue" type ="button" value = "getBodyValue">getBodyValue()</div>
            <div id="setBodyValue" type ="button" value = "setBodyValue">setBodyValue()</div>
        </div>
        <textarea id = "creText"></textarea>
    </div>
    
    <!-- 사용자 API 영역 -->
    <script> 
        var editor = new SimpleEditor("root");
        editor.startEditor()
        var getCreText = document.querySelector("#creText");

        
        var getValueHandler = document.getElementById("getValue");

        getValueHandler.addEventListener("click" , function(){
            var temp = editor.getValue();
            if(t.currentState === "Edit"){
                getCreText.value = temp;
            }else if(t.currentState === "HTML"){
                getCreText.value = temp;
            }else if(t.currentState === "PreView"){
                getCreText.value = temp;
            }
        });

        var getBodyValueHandler = document.getElementById("getBodyValue");

        getBodyValueHandler.addEventListener("click",function(){
            var temp = editor.getBodyValue();
            if(t.currentState === "Edit"){
                getCreText.value = temp;
            }else if(t.currentState === "HTML"){
                getCreText.value = temp;
            }else if(t.currentState === "PreView"){
                getCreText.value = temp;
            }
        });
        
        var setValue = document.getElementById("setValue");

        setValue.addEventListener("click",function(){
            var temp = editor.setValue();
            var getOut = document.getElementById("output");
            var getDoc = getOut.contentWindow.document;
            var getTextAreaId = document.getElementById("textAreaId");
             if(t.currentState === "Edit"){
                getDoc.body.innerHTML = temp;
                getDoc.body.focus();
             }else if(t.currentState === "HTML"){
                getTextAreaId.value = temp;
                getDoc.body.focus();
             }else if(t.currentState === "PreView"){
                 return;
             }
        })

        var setBodyValueHandler = document.getElementById("setBodyValue");
        setBodyValueHandler.addEventListener("click",function(){
            var temp = editor.setBodyValue();
            var getOut = document.getElementById("output");
            var getDoc = getOut.contentWindow.document;
            var getTextAreaId = document.getElementById("textAreaId");
            if(t.currentState === "Edit"){
                getDoc.body.innerHTML = temp;
                getDoc.body.focus();
             }else if(t.currentState === "HTML"){
                getTextAreaId.value = temp;
                getDoc.body.focus();
             }else if(t.currentState === "PreView"){
                 return;
             }
        });
    </script>
</body>
</html>

